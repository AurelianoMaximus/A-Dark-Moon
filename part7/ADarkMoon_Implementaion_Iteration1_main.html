<!doctype html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="ADarkMoon_main.css">

    <script src="ScreenDisplay.js"></script>
    <script src="BtnHandler.js"></script>
    <script src="screenOneBuild.js"></script>
    <script src="screenOneBuy.js"></script>
    <script src="screenTwo.js"></script>
	  <script src="screenThree.js"></script>
    <script src="startUp.js"></script>
</head>
<body onload="generateGrid(35); startGame();">
    <div class="split left">
      <div id="eventText">
			<p></p>
			<p></p>
			<p></p>
			<p></p>
			<p></p>
			<p></p>
			<p></p>
			<p></p>
			<p></p>
			<p></p>
			<p></p>
			<p></p>
			<p></p>
			<p></p>
			<p></p>
			<p></p>
			<p></p>
			<p></p>
        </div>
    </div>
      
      <div class="split right">
        <div class="centered">
          <button id="screen1Tab" onclick="screen1Display()">Screen 1</button>
          <button id="screen2Tab" onclick="screen2Display()">Screen 2</button>
          <button id="screen3Tab" onclick="screen3Display()">Screen 3</button><br>
          <table id="resourceTable" align="right">
            <caption>Resources</caption>
            <tr>
                <th>Resource</th>
                <th>Amount</th>
            </tr>
            <tr>
              <th>Iron</th>
              <th><input type="number" class="resources" id="ironAmt" value="0" max="9999" readonly></th>
          </tr>
            <tr>
              <th>Fuel</th>
              <th><input type="number" class="resources" id="fuelAmt" value="0" max="9999" readonly></th>
            </tr>
            <tr>
              <th>Repair Packs</th>
              <th><input type="number" class="resources" id="repairPackAmt" value="0" max="9999" readonly></th>
          </tr>
          <tr>
            <th>Planet Cores</th>
            <th><input type="number" class="resources" id="planetCoreAmt" value="0" max="9999" readonly></th>
        </tr>
        </table>
          <button id="sndMessage" value = "0" onclick="eventText(Events('0')); sndMessage();">Send Message</button>
          <div id="screen1">
            <h1>A Dark Moon</h1>
            <div id="buildBtns">
              <h3>Build</h3> <br>
              <button id="o2tankBtn" class="Btn" onclick="buildO2Tank()">O2 Tank</button><br>
              <button id="collectionBtn" class="Btn" onclick="buildPod()">Colection Pod</button><br>
              <button id="shipBtn" class="Btn" onclick="buildShip()">Ship</button><br>
              <div class="tooltip"><button id="refineryBtn" class="Btn" onclick="buildRefinery()">Refinery</button>
              <div class="tooltiptext">200 Iron <br> 100 Fuel</div></div>
              <div class="tooltip"><button id="mechanicBtn" class="Btn" onclick="buildMechanic()">Mechanic Shop</button>
              <div class="tooltiptext">200 Iron <br>200 Fuel</div></div>
              <div class="tooltip"><button id="spaceHubBtn" class="Btn" onclick="buildSpaceHub()">Space Hub</button>
              <div class="tooltiptext">400 Iron<br> 200 Fuel</div></div>
            </div>
            <div id="buyBtns">
              <h3>Buy</h3> <br>
              <div class="tooltip"><button id="ironBtn" class="Btn" onclick="buyIron()">Iron</button>
              <div class="tooltiptext">20 Fuel</div></div>
              <div class="tooltip"><button id="fuelBtn" class="Btn" onclick="buyFuel()">Fuel</button>
              <div class="tooltiptext">50 Iron</div></div>
              <div class="tooltip"><button id="repairPackBtn" class="Btn" onclick="buyRepairPack()">Repair Packs</button>
              <div class="tooltiptext">100 Iron<br> 100 Fuel</div></div>
              <div class="tooltip"><button id="navBtn" class="Btn" onclick="buyNavCPU()">Nav Computer</button>
              <div class="tooltiptext">500 Iron<br> 300 Fuel <br> 100 Repair Packs</div></div>
              <div class="tooltip"><button id="health1Btn" class="Btn" onclick="buyHealth1()">Health Upgrade 1</button>
              <div class="tooltiptext">500 Iron<br>500 Fuel<br>200 Repair Packs</div></div>
              <div class="tooltip"><button id="health2Btn" class="Btn" onclick="buyHealth2()">Health Upgrade 2</button>
              <div class="tooltiptext">750 Iron<br> 750 Fuel<br>400 Repair Packs</div></div>
              <div class="tooltip"><button id="dmg1Btn" class="Btn" onclick="buyDmg1()">Damage Upgrade 1</button>
              <div class="tooltiptext">500 Iron<br> 500 Fuel<br> 200 Repair Packs</div></div>
              <div class="tooltip"><button id="dmg2Btn" class="Btn" onclick="buyDmg2()">Damage Upgrade 2</button>
              <div class="tooltiptext">750 Iron<br> 750 Fuel<br>400 Repair Packs</div></div>
              <div class="tooltip"><button id="deathStarBtn" class="Btn" onclick="buyDeathStar()">Death Star</button>
              <div class="tooltiptext">1000 Iron<br> 1000 Fuel<br>1000 Repair Packs<br> 10 Planet Cores</div></div>
            </div>
            <table id="itemTable" align="right">
              <caption>Items</caption>
              <tr>
                <th>Item</th>
                <th>Amount</th>
              </tr>
              <tr>
                <th>O2 Tank</th>
                <th><input type="number" class="items" id="o2TankAmt" value="0" max="9999" readonly></th>
              </tr>
              <tr>
                <th>Nav Computer</th>
                <th><input type="number" class="items" id="navComputerAmt" value="0" max="9999" readonly></th>
              </tr>
              <tr>
                <th>Health 1</th>
                <th><input type="number" class="items" id="health1Amt" value="0" max="9999" readonly></th>
              </tr>
              <tr>
                <th>Health 2</th>
                <th><input type="number" class="items" id="health2Amt" value="0" max="9999" readonly></th>
              </tr>
              <tr>
                <th>Damage 1</th>
                <th><input type="number" class="items" id="damage1Amt" value="0" max="9999" readonly></th>
              </tr>
              <tr>
                <th>Damage 2</th>
                <th><input type="number" class="items" id="damage2Amt" value="0" max="9999" readonly></th>
              </tr>
              <tr>
                <th>Death Star</th>
                <th><input type="number" class="items" id="deathStarAmt" value="0" max="9999" readonly></th>
              </tr>
            </table>
            
          </div>


          <div id="screen2">
            <h1>The Harbour</h1>
            <table id="villageTable" align="right">
              <caption>Village</caption>
              <tr>
                <th>Collection Pod</th>
                <td><input type="number" value="0" class="village" id="collectionPodAmt" max="9999" readonly></td>
              </tr>
              <tr>
                <th>Ships</th>
                <td><input type="number" value="0" class="village" id="shipAmt" max="9999" readonly></td>
              </tr>
              <tr>
                <th>Mechanic Shop</th>
                <td><input type="number" value="0" class="village" id="mechanicAmt" max="9999" readonly></td>
              </tr>
              <tr>
                <th>Refinery</th>
                <td><input type="number" value="0" class="village" id="refineryAmt" max="9999" readonly></td>
              </tr>
              <tr>
                <th>Space Hub</th>
                <td><input type="number" value="0" class="village" id="spaceHubAmt" max="9999" readonly></td>
              </tr>
              <tr>
                <th>Population</th>
                <td><input type="number" value="0" class="village" id="population" max="9999" readonly></td>
              </tr>
            </table>
            <div id="pageTwoBtns">
              <button id="mineIron" class="Btn" onclick="mineIron(); //baseBtnHandler(this);">Mine Iron</button><br>
              <button id="checkPods" class="Btn" onclick="checkPods(); //baseBtnHandler(this);">Check Pods</button>
            </div>

            <div id="jobTable">
              <label for="miner">Miner</label>
              <input id="miner" value="0" type="number" class="jobs" readonly><br>
              <label for="operator">Operator</label>
              <input id="operator" type="number" onchange="operatorManager()" onKeyDown="return false" value="0" min="0" class="jobs"><br>
              <label for="mechanic">Mechanic</label>
              <input id="mechanic" type="number" onchange="mechanicManager()" onKeyDown="return false" value="0" min="0" class="jobs"><br>
            </div>


          </div>


          <div id="screen3">
            <h1>Endless Space</h1>
			        <input type="number" id="playerPosRow" name="playerPos" value="" hidden readonly>
			        <input type="number" id="playerPosCol" name="playerPos" value="" hidden readonly>
            <form id="exploreStats">
					    <input type="number" id="fuel" name="fuel" value="50" readonly>
				      <label for="fuel">Fuel</label><br>
					    <input type="number" id="food" name="food" value="50" readonly>
				      <label for="food">Food</label><br> 
					    <input type="number" id="water" name="water" value="50"readonly>  
				      <label for="water">Water</label><br> 
					    <input type="number" id="health" name="water" value="20"readonly> 
				      <label for="health">Health</label><br>
            </form>
		  <button id="playerAttack" hidden onclick="playerAttack()">Attack</button>	
		  
		  <input type="number" id="enemyHealth" name="enemyHealth" value=""readonly hidden>
		  <input type="number" id="enemyDamage" name="enemyDamage" value=""readonly hidden> 			 
		  <p id ="enemy"></p>
		   <input type="number" id="inBattle" name="inBattle" value="0" readonly hidden>	
			
		  <table id ="grid">
		  </table>
          </div>
        </div>
      </div>
    <script>
        //display screen funcitons

    document.getElementById("ironAmt").value = 10;
 


	//Update the text log 
      function eventText(logText) {
		//store all text paragraphs
		textNodes = document.getElementById('eventText').children; 
			
			//iterate through textnodes
			for(let i = textNodes.length-1; i != 0; i--){
				textNodes[i].innerText = textNodes[i-1].innerText;
				textNodes[i].style.opacity = ((textNodes.length-i)/textNodes.length);
				}
				//add current event to the top
				textNodes[0].innerText = logText;
      }
	  //stores event text 
	  function Events(eventID) {
		if(eventID == 0)
		{
			let fireEvents = ['message sent','sending message','waiting...'];
			return(fireEvents[Math.floor(Math.random()*fireEvents.length)]);
		}
		if(eventID == 1)
		{
			let meTooEvents = ['floor creaks','metal walls are cold','they are restless'];
            document.getElementById("ironAmt").value = document.getElementById("ironAmt").value - 2;
			return(meTooEvents[Math.floor(Math.random()*meTooEvents.length)]);
		}
      }
     
    </script>
</body>
</html>